; WildCAM_ESP32 Minimal Working Configuration
; Offline-capable build for ESP32WildlifeCAM
; Author: thewriterben

[platformio]
default_envs = esp32cam
; Use local cache to avoid network dependencies
cache_dir = ./.pio/cache
packages_dir = ./.pio/packages

[env:esp32cam]
platform = espressif32
board = esp32cam
framework = arduino

; Basic build flags for ESP32-CAM
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -DBOARD_AI_THINKER_CAM
    -DCAMERA_MODEL_AI_THINKER
    -DCONFIG_SPIRAM_CACHE_WORKAROUND
    -std=c++17
    -fexceptions

; Monitor configuration
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload configuration
upload_speed = 460800

; Essential camera library - will try to use system-installed version
lib_deps = 
    ; ESP32 camera support is usually built into the ESP32 Arduino framework
    ; We'll rely on the framework's built-in camera support

; Include directories
build_src_filter = +<*> -<.git/> -<.svn/> -<test/> -<tests/>

; Linker flags for memory optimization
build_unflags = -std=gnu++11
board_build.filesystem = littlefs